<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Secure Valentine Portal</title>
  <style>
    body{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      background:#0b0b0f;
      color:#b7ffd9;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      padding:24px;
      overflow:hidden;
    }
    .card{
      width:min(650px, 100%);
      border:1px solid rgba(183,255,217,.25);
      border-radius:18px;
      padding:22px;
      box-shadow: 0 0 30px rgba(0,255,153,.08);
      background:linear-gradient(180deg, rgba(0,255,153,.06), rgba(255,105,180,.03));
      position:relative;
      z-index:2;
    }
    h1{margin:0 0 10px; font-size:22px;}
    .muted{opacity:.80; font-size:14px; line-height:1.5;}
    .terminal{
      margin:16px 0;
      padding:14px;
      border-radius:14px;
      background:#06060a;
      border:1px solid rgba(183,255,217,.18);
      font-size:14px;
      line-height:1.5;
      white-space:pre-line;
      min-height:140px;
    }
    .row{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;}
    input{
      flex:1;
      min-width:180px;
      padding:12px 14px;
      border-radius:12px;
      border:1px solid rgba(183,255,217,.22);
      background:#0b0b0f;
      color:#b7ffd9;
      outline:none;
      font-size:15px;
    }
    button{
      padding:12px 14px;
      border-radius:12px;
      border:0;
      cursor:pointer;
      font-weight:700;
      font-size:15px;
      background:#00ff99;
      color:#0b0b0f;
    }
    button.secondary{
      background:rgba(183,255,217,.12);
      color:#b7ffd9;
      border:1px solid rgba(183,255,217,.22);
    }
    .pink{ color:#ff7ac7; }
    .hidden{ display:none; }
    .val{
      margin-top:18px;
      padding:16px;
      border-radius:14px;
      background:rgba(255,122,199,.08);
      border:1px solid rgba(255,122,199,.22);
    }
    .big{
      font-size:26px;
      margin:8px 0 12px;
      color:#ffd1ea;
    }
    .btns{display:flex; gap:10px; flex-wrap:wrap;}
    .btns button{background:#ff7ac7; color:#0b0b0f;}
    .btns button.secondary{
      background:rgba(255,122,199,.14);
      color:#ffd1ea;
      border:1px solid rgba(255,122,199,.30);
    }
    .footer{margin-top:14px; font-size:12px; opacity:.68;}

    #confettiCanvas{
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      z-index:1;
      pointer-events:none;
    }
    .us-photo{
  width:100%;
  max-height:320px;
  object-fit:cover;
  border-radius:14px;
  margin-bottom:14px;
  border:1px solid rgba(255,122,199,.35);
  box-shadow:0 0 18px rgba(255,122,199,.25);
}
  </style>
</head>
<body>
  <canvas id="confettiCanvas"></canvas>

  <div class="card">
    <h1>üîí Secure Valentine Portal</h1>

    <div class="muted">
      Hey my baby, I coded you this site as I wanted to make you smile.
      Especially at this time. <span class="pink">No pressure</span> ‚Äî open whenever you feel like üíó
    </div>

    <div id="terminal" class="terminal"></div>

    <div id="unlockArea" class="row">
      <input id="code" placeholder="Enter access code‚Ä¶" inputmode="numeric" />
      <button id="unlockBtn">Unlock</button>
      <button id="hintBtn" class="secondary">Hint</button>
    </div>

    <div id="valentine" class="val hidden">
      <img src="us.jpg" alt="Us üíó" class="us-photo">
      <div class="muted">ACCESS GRANTED ‚úÖ</div>
      <div class="big">Will you be my Valentine Miss JNH?</div>
      <div class="muted">I promise it'll be worth your yes. üòåüíò</div>

      <div class="btns" style="margin-top:14px;">
        <button id="yesBtn">Yes stitch üíñ</button>
        <button id="yesBtn2" class="secondary">Yeeeeesss but only because you'll bite me if I say no üò≠</button>
        <button id="resetBtn" class="secondary">Reset / Replay üîÅ</button>
      </div>

      <div id="response" class="footer"></div>
    </div>

    <div class="footer">Tip: if you miss the code, the system gets petty.</div>
  </div>

<script>
  const terminal = document.getElementById("terminal");
  const codeInput = document.getElementById("code");
  const unlockBtn = document.getElementById("unlockBtn");
  const hintBtn = document.getElementById("hintBtn");
  const valentine = document.getElementById("valentine");
  const unlockArea = document.getElementById("unlockArea");
  const response = document.getElementById("response");
  const resetBtn = document.getElementById("resetBtn");

  const correct = "5678";

  let attempts = 0;

  const pettyErrors = [
    "ACCESS DENIED ‚ùå ‚Äî please stop being fine and try again.",
    "ACCESS DENIED ‚ùå ‚Äî JNH choreo energy not verified. (do a lil two-step?)",
    "ACCESS DENIED ‚ùå ‚Äî slow whine not detected. suspicious.",
    "ACCESS DENIED ‚ùå ‚Äî incorrect. I blame the Wi-Fi‚Ä¶ and your face."
  ];

  function introLines(){
    return [
      "Initializing secure connection‚Ä¶",
      "Security level: GIRLFRIEND üîêüíò",
      "",
      "Scanning for Care Bear Energy‚Ä¶ üß∏",
      "Waist Line Detected‚Ä¶ üá∞üá≥",
      "Warning: full teet smile incoming üòÅ",
      "",
      "Enter access code to proceed:"
    ];
  }

  function typeLines(lines, speed=16){
    terminal.textContent = "";
    let i = 0;
    let j = 0;
    function tick(){
      if (i >= lines.length) return;
      const line = lines[i];
      terminal.textContent += line[j] || "";
      j++;
      if (j > line.length){
        terminal.textContent += "\n";
        i++; j = 0;
      }
      setTimeout(tick, speed);
    }
    tick();
  }

  function attemptLabel(){
    return `Attempt ${attempts}/‚àû`;
  }

  function showIntro(){
    typeLines(introLines(), 14);
  }

  // Start intro
  showIntro();

  hintBtn.onclick = () => {
    typeLines([
      "HINT üí°",
      "The thing you say before you start dancing with your class‚Ä¶",
      "",
      "Enter access code:"
    ], 14);
    codeInput.focus();
  };

  function unlock(){
    attempts++;
    const attempt = (codeInput.value || "").trim();

    if (attempt === correct){
      typeLines([
        `‚úÖ ${attemptLabel()}`,
        "Code accepted ‚úÖ",
        "Verifying cuteness‚Ä¶ ‚úÖ",
        "Decrypting message‚Ä¶",
        "",
        "ACCESS GRANTED üíò"
      ], 14);

      unlockArea.classList.add("hidden");
      setTimeout(() => valentine.classList.remove("hidden"), 650);

    } else {
      const msg = pettyErrors[Math.floor(Math.random() * pettyErrors.length)];
      typeLines([
        `‚ùå ${attemptLabel()}`,
        msg,
        "",
        "Try again baby. I believe in you üòå"
      ], 14);
      codeInput.value = "";
      codeInput.focus();
    }
  }

  unlockBtn.onclick = unlock;
  codeInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") unlock();
  });

  // ---- Confetti ----
  const canvas = document.getElementById("confettiCanvas");
  const ctx = canvas.getContext("2d");
  let W, H;
  function resize(){
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resize);
  resize();

  let confettiPieces = [];
  let confettiTimer = null;

  function randomBetween(a,b){ return a + Math.random()*(b-a); }

  function makeConfetti(count=160){
    confettiPieces = [];
    for(let i=0;i<count;i++){
      confettiPieces.push({
        x: randomBetween(0, W),
        y: randomBetween(-H*0.2, -20),
        w: randomBetween(6, 12),
        h: randomBetween(8, 16),
        vx: randomBetween(-1.8, 1.8),
        vy: randomBetween(2.5, 5.5),
        rot: randomBetween(0, Math.PI*2),
        vr: randomBetween(-0.15, 0.15),
        alpha: 1
      });
    }
  }

  function drawConfetti(){
    ctx.clearRect(0,0,W,H);
    for(const p of confettiPieces){
      p.x += p.vx;
      p.y += p.vy;
      p.rot += p.vr;
      p.alpha -= 0.004;

      ctx.save();
      ctx.globalAlpha = Math.max(0, p.alpha);
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot);

      const hue = (p.x + p.y) % 360;
      ctx.fillStyle = `hsl(${hue}, 90%, 70%)`;
      ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
      ctx.restore();
    }
    confettiPieces = confettiPieces.filter(p => p.alpha > 0 && p.y < H + 40);
    if(confettiPieces.length){
      requestAnimationFrame(drawConfetti);
    } else {
      ctx.clearRect(0,0,W,H);
    }
  }

  function burstConfetti(){
    makeConfetti(170);
    drawConfetti();
    if(confettiTimer) clearTimeout(confettiTimer);
    confettiTimer = setTimeout(() => {
      confettiPieces = [];
      ctx.clearRect(0,0,W,H);
    }, 3500);
  }

  function stopConfettiNow(){
    if(confettiTimer) clearTimeout(confettiTimer);
    confettiPieces = [];
    ctx.clearRect(0,0,W,H);
  }
  // ---- End Confetti ----

  function celebrate(which){
    burstConfetti();

    const loveNote =
      "Thank you for being the best girlfriend ever that I get to share my nerdy quirks with. " +
      "I love you so much my baby and I can guarantee you that I'm smiling as much as you are seeing your response to being my valentine. " +
      "See you soon baby.";

    response.textContent = loveNote;

    const lines = [
      "‚úÖ Valentine response received.",
      "üíå Sending: kisses, cuddles, and a slightly annoying amount of affection‚Ä¶",
      "üì¶ Delivery method: long distance, but strong.",
      "ü´∂ Status: I miss you."
    ];

    if (which === 2) lines.unshift("üò≠ DRAMATIC YES CONFIRMED.");

    typeLines(lines, 14);
  }

  document.getElementById("yesBtn").onclick = () => celebrate(1);
  document.getElementById("yesBtn2").onclick = () => celebrate(2);

  // ---- Reset / Replay ----
  resetBtn.onclick = () => {
    stopConfettiNow();
    attempts = 0;
    response.textContent = "";
    codeInput.value = "";

    // Hide valentine section, show unlock section
    valentine.classList.add("hidden");
    unlockArea.classList.remove("hidden");

    // Replay intro
    showIntro();

    // Focus input so it feels smooth
    setTimeout(() => codeInput.focus(), 250);
  };
 // rebuild trigger 
</script>
</body>
</html>
